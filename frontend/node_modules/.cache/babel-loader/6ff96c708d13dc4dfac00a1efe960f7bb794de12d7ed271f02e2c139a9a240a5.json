{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"strategy-post-test\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"text-center py-4\"\n};\nconst _hoisted_3 = {\n  class: \"strategy-content mb-4\"\n};\nconst _hoisted_4 = {\n  class: \"text-center mt-4\"\n};\nconst _hoisted_5 = {\n  class: \"d-flex align-center\"\n};\nconst _hoisted_6 = {\n  class: \"text-h5 mb-0\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"text-warning\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_icon = _resolveComponent(\"v-icon\");\n  const _component_v_card_title = _resolveComponent(\"v-card-title\");\n  const _component_v_progress_circular = _resolveComponent(\"v-progress-circular\");\n  const _component_v_alert = _resolveComponent(\"v-alert\");\n  const _component_v_radio = _resolveComponent(\"v-radio\");\n  const _component_v_radio_group = _resolveComponent(\"v-radio-group\");\n  const _component_v_expansion_panel = _resolveComponent(\"v-expansion-panel\");\n  const _component_v_expansion_panels = _resolveComponent(\"v-expansion-panels\");\n  const _component_v_pagination = _resolveComponent(\"v-pagination\");\n  const _component_v_spacer = _resolveComponent(\"v-spacer\");\n  const _component_v_chip = _resolveComponent(\"v-chip\");\n  const _component_v_card_text = _resolveComponent(\"v-card-text\");\n  const _component_v_divider = _resolveComponent(\"v-divider\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  const _component_v_dialog = _resolveComponent(\"v-dialog\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_v_card, null, {\n    default: _withCtx(() => [_createVNode(_component_v_card_title, {\n      class: \"text-h5 primary--text\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_icon, {\n        start: \"\",\n        icon: \"mdi-clipboard-check-outline\"\n      }), _cache[6] || (_cache[6] = _createTextVNode(\" 阅读策略问卷调查（后测） \"))]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_v_card_text, null, {\n      default: _withCtx(() => [_cache[10] || (_cache[10] = _createElementVNode(\"p\", {\n        class: \"text-body-1 mb-4\"\n      }, \" 请根据您在学习过程后对各种英语阅读策略的了解和掌握情况，为每一项策略选择最符合的选项。 \", -1 /* HOISTED */)), $setup.strategyItems.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_v_progress_circular, {\n        indeterminate: \"\",\n        color: \"primary\"\n      }), _cache[7] || (_cache[7] = _createElementVNode(\"div\", {\n        class: \"mt-2\"\n      }, \"加载中...\", -1 /* HOISTED */))])) : (_openBlock(), _createElementBlock(_Fragment, {\n        key: 1\n      }, [_createVNode(_component_v_alert, {\n        type: \"info\",\n        variant: \"tonal\",\n        border: \"start\",\n        icon: \"mdi-information-outline\",\n        class: \"mb-4\"\n      }, {\n        default: _withCtx(() => _cache[8] || (_cache[8] = [_createElementVNode(\"p\", {\n          class: \"mb-0\"\n        }, \"请为每个策略选择一个选项：\", -1 /* HOISTED */), _createElementVNode(\"ul\", {\n          class: \"mt-2 mb-0\"\n        }, [_createElementVNode(\"li\", null, \"1 - 我从未听说过这个策略\"), _createElementVNode(\"li\", null, \"2 - 我听说过这个策略，但不知道它的含义\"), _createElementVNode(\"li\", null, \"3 - 我听说过这个策略，并且我认为我知道它的含义\"), _createElementVNode(\"li\", null, \"4 - 我了解这个策略，并且我可以解释如何以及何时使用它\"), _createElementVNode(\"li\", null, \"5 - 我非常了解这个策略，并且在阅读时经常使用它\")], -1 /* HOISTED */)])),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_expansion_panels, {\n        modelValue: $setup.openPanel,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.openPanel = $event)\n      }, {\n        default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.strategyItems, (item, index) => {\n          return _openBlock(), _createBlock(_component_v_expansion_panel, {\n            key: `strategy-${item.id}`,\n            title: `策略 ${index + 1}`,\n            text: item.content\n          }, {\n            text: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, _toDisplayString(item.content), 1 /* TEXT */), _createVNode(_component_v_radio_group, {\n              modelValue: $setup.answers[index],\n              \"onUpdate:modelValue\": $event => $setup.answers[index] = $event,\n              inline: \"\",\n              \"hide-details\": \"\",\n              class: \"strategy-options\"\n            }, {\n              default: _withCtx(() => [(_openBlock(), _createElementBlock(_Fragment, null, _renderList(5, option => {\n                return _createVNode(_component_v_radio, {\n                  key: `option-${option}`,\n                  label: `${option}`,\n                  value: option,\n                  disabled: $setup.completed\n                }, null, 8 /* PROPS */, [\"label\", \"value\", \"disabled\"]);\n              }), 64 /* STABLE_FRAGMENT */))]),\n              _: 2 /* DYNAMIC */\n            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"modelValue\", \"onUpdate:modelValue\"])]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"title\", \"text\"]);\n        }), 128 /* KEYED_FRAGMENT */))]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"modelValue\"]), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_v_pagination, {\n        modelValue: $setup.currentPage,\n        \"onUpdate:modelValue\": [_cache[1] || (_cache[1] = $event => $setup.currentPage = $event), $setup.changePage],\n        length: $setup.totalPages,\n        \"total-visible\": 7\n      }, null, 8 /* PROPS */, [\"modelValue\", \"length\", \"onUpdate:modelValue\"])]), $setup.hasUnansweredQuestions ? (_openBlock(), _createBlock(_component_v_alert, {\n        key: 0,\n        type: \"warning\",\n        variant: \"tonal\",\n        border: \"start\",\n        icon: \"mdi-alert-outline\",\n        class: \"mt-4\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\" 您还有 \" + _toDisplayString($setup.unansweredCount) + \" 个策略未评估。请确保完成所有项目后再提交。 \", 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      })) : _createCommentVNode(\"v-if\", true), $setup.completed ? (_openBlock(), _createBlock(_component_v_alert, {\n        key: 1,\n        type: \"success\",\n        variant: \"tonal\",\n        border: \"start\",\n        icon: \"mdi-check-circle-outline\",\n        class: \"mt-4\"\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", null, [_cache[9] || (_cache[9] = _createElementVNode(\"p\", {\n          class: \"mb-1\"\n        }, \"问卷已完成！您的阅读策略评分为：\", -1 /* HOISTED */)), _createElementVNode(\"p\", _hoisted_6, _toDisplayString($setup.totalScore) + \"/75\", 1 /* TEXT */)]), _createVNode(_component_v_spacer), _createVNode(_component_v_chip, {\n          color: $setup.getScoreColor($setup.totalScore),\n          size: \"large\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.getScoreLevel($setup.totalScore)), 1 /* TEXT */)]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"color\"])])]),\n        _: 1 /* STABLE */\n      })) : _createCommentVNode(\"v-if\", true)], 64 /* STABLE_FRAGMENT */))]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_v_divider), _createVNode(_component_v_card_actions, null, {\n      default: _withCtx(() => [!$setup.completed ? (_openBlock(), _createBlock(_component_v_btn, {\n        key: 0,\n        variant: \"outlined\",\n        color: \"error\",\n        onClick: $setup.confirmReset\n      }, {\n        default: _withCtx(() => _cache[11] || (_cache[11] = [_createTextVNode(\" 重置 \")])),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])) : _createCommentVNode(\"v-if\", true), _createVNode(_component_v_spacer), !$setup.completed ? (_openBlock(), _createBlock(_component_v_btn, {\n        key: 1,\n        color: \"primary\",\n        variant: \"flat\",\n        loading: $setup.loading,\n        disabled: $setup.hasUnansweredQuestions,\n        onClick: $setup.confirmSubmit\n      }, {\n        default: _withCtx(() => _cache[12] || (_cache[12] = [_createTextVNode(\" 提交 \")])),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"loading\", \"disabled\", \"onClick\"])) : (_openBlock(), _createBlock(_component_v_btn, {\n        key: 2,\n        color: \"primary\",\n        variant: \"flat\",\n        to: {\n          name: 'Summary'\n        }\n      }, {\n        default: _withCtx(() => [_cache[13] || (_cache[13] = _createTextVNode(\" 查看学习总结 \")), _createVNode(_component_v_icon, {\n          end: \"\",\n          icon: \"mdi-arrow-right\"\n        })]),\n        _: 1 /* STABLE */\n      }))]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" 确认重置对话框 \"), _createVNode(_component_v_dialog, {\n    modelValue: $setup.confirmResetDialog,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.confirmResetDialog = $event),\n    \"max-width\": \"400\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_card, null, {\n      default: _withCtx(() => [_createVNode(_component_v_card_title, null, {\n        default: _withCtx(() => _cache[14] || (_cache[14] = [_createTextVNode(\"确认重置\")])),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_card_text, null, {\n        default: _withCtx(() => _cache[15] || (_cache[15] = [_createTextVNode(\" 您确定要重置所有答案吗？此操作不可撤销。 \")])),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_card_actions, null, {\n        default: _withCtx(() => [_createVNode(_component_v_spacer), _createVNode(_component_v_btn, {\n          variant: \"text\",\n          onClick: _cache[2] || (_cache[2] = $event => $setup.confirmResetDialog = false)\n        }, {\n          default: _withCtx(() => _cache[16] || (_cache[16] = [_createTextVNode(\"取消\")])),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_btn, {\n          color: \"error\",\n          onClick: $setup.resetAnswers\n        }, {\n          default: _withCtx(() => _cache[17] || (_cache[17] = [_createTextVNode(\"确认\")])),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"onClick\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"]), _createCommentVNode(\" 提交确认对话框 \"), _createVNode(_component_v_dialog, {\n    modelValue: $setup.confirmSubmitDialog,\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.confirmSubmitDialog = $event),\n    \"max-width\": \"400\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_card, null, {\n      default: _withCtx(() => [_createVNode(_component_v_card_title, null, {\n        default: _withCtx(() => _cache[18] || (_cache[18] = [_createTextVNode(\"确认提交\")])),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_card_text, null, {\n        default: _withCtx(() => [_cache[19] || (_cache[19] = _createElementVNode(\"p\", null, \"您确定要提交答案吗？提交后将无法修改。\", -1 /* HOISTED */)), $setup.hasUnansweredQuestions ? (_openBlock(), _createElementBlock(\"p\", _hoisted_7, \" 您还有 \" + _toDisplayString($setup.unansweredCount) + \" 个策略未评估。 \", 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_card_actions, null, {\n        default: _withCtx(() => [_createVNode(_component_v_spacer), _createVNode(_component_v_btn, {\n          variant: \"text\",\n          onClick: _cache[4] || (_cache[4] = $event => $setup.confirmSubmitDialog = false)\n        }, {\n          default: _withCtx(() => _cache[20] || (_cache[20] = [_createTextVNode(\"取消\")])),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_btn, {\n          color: \"primary\",\n          onClick: $setup.submitAnswers,\n          disabled: $setup.hasUnansweredQuestions\n        }, {\n          default: _withCtx(() => _cache[21] || (_cache[21] = [_createTextVNode(\" 确认提交 \")])),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"onClick\", \"disabled\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createVNode","_component_v_card","default","_withCtx","_component_v_card_title","_component_v_icon","start","icon","_createTextVNode","_","_component_v_card_text","_createElementVNode","$setup","strategyItems","length","_hoisted_2","_component_v_progress_circular","indeterminate","color","_Fragment","_component_v_alert","type","variant","border","_cache","_component_v_expansion_panels","modelValue","openPanel","$event","_renderList","item","index","_createBlock","_component_v_expansion_panel","id","title","text","content","_hoisted_3","_toDisplayString","_component_v_radio_group","answers","inline","option","_component_v_radio","label","value","disabled","completed","_hoisted_4","_component_v_pagination","currentPage","changePage","totalPages","hasUnansweredQuestions","unansweredCount","_createCommentVNode","_hoisted_5","_hoisted_6","totalScore","_component_v_spacer","_component_v_chip","getScoreColor","size","getScoreLevel","_component_v_divider","_component_v_card_actions","_component_v_btn","onClick","confirmReset","loading","confirmSubmit","to","name","end","_component_v_dialog","confirmResetDialog","resetAnswers","confirmSubmitDialog","_hoisted_7","submitAnswers"],"sources":["D:\\PycharmProjects\\perss_v4\\frontend\\src\\views\\feedback\\StrategyPostTest.vue"],"sourcesContent":["<template>\r\n  <div class=\"strategy-post-test\">\r\n    <v-card>\r\n      <v-card-title class=\"text-h5 primary--text\">\r\n        <v-icon start icon=\"mdi-clipboard-check-outline\"></v-icon>\r\n        阅读策略问卷调查（后测）\r\n      </v-card-title>\r\n\r\n      <v-card-text>\r\n        <p class=\"text-body-1 mb-4\">\r\n          请根据您在学习过程后对各种英语阅读策略的了解和掌握情况，为每一项策略选择最符合的选项。\r\n        </p>\r\n\r\n        <div v-if=\"strategyItems.length === 0\" class=\"text-center py-4\">\r\n          <v-progress-circular indeterminate color=\"primary\"></v-progress-circular>\r\n          <div class=\"mt-2\">加载中...</div>\r\n        </div>\r\n\r\n        <template v-else>\r\n          <v-alert\r\n            type=\"info\"\r\n            variant=\"tonal\"\r\n            border=\"start\"\r\n            icon=\"mdi-information-outline\"\r\n            class=\"mb-4\"\r\n          >\r\n            <p class=\"mb-0\">请为每个策略选择一个选项：</p>\r\n            <ul class=\"mt-2 mb-0\">\r\n              <li>1 - 我从未听说过这个策略</li>\r\n              <li>2 - 我听说过这个策略，但不知道它的含义</li>\r\n              <li>3 - 我听说过这个策略，并且我认为我知道它的含义</li>\r\n              <li>4 - 我了解这个策略，并且我可以解释如何以及何时使用它</li>\r\n              <li>5 - 我非常了解这个策略，并且在阅读时经常使用它</li>\r\n            </ul>\r\n          </v-alert>\r\n\r\n          <v-expansion-panels v-model=\"openPanel\">\r\n            <v-expansion-panel\r\n              v-for=\"(item, index) in strategyItems\"\r\n              :key=\"`strategy-${item.id}`\"\r\n              :title=\"`策略 ${index + 1}`\"\r\n              :text=\"item.content\"\r\n            >\r\n              <template v-slot:text>\r\n                <div class=\"strategy-content mb-4\">{{ item.content }}</div>\r\n\r\n                <v-radio-group\r\n                  v-model=\"answers[index]\"\r\n                  inline\r\n                  hide-details\r\n                  class=\"strategy-options\"\r\n                >\r\n                  <v-radio\r\n                    v-for=\"option in 5\"\r\n                    :key=\"`option-${option}`\"\r\n                    :label=\"`${option}`\"\r\n                    :value=\"option\"\r\n                    :disabled=\"completed\"\r\n                  ></v-radio>\r\n                </v-radio-group>\r\n              </template>\r\n            </v-expansion-panel>\r\n          </v-expansion-panels>\r\n\r\n          <div class=\"text-center mt-4\">\r\n            <v-pagination\r\n              v-model=\"currentPage\"\r\n              :length=\"totalPages\"\r\n              :total-visible=\"7\"\r\n              @update:model-value=\"changePage\"\r\n            ></v-pagination>\r\n          </div>\r\n\r\n          <v-alert\r\n            v-if=\"hasUnansweredQuestions\"\r\n            type=\"warning\"\r\n            variant=\"tonal\"\r\n            border=\"start\"\r\n            icon=\"mdi-alert-outline\"\r\n            class=\"mt-4\"\r\n          >\r\n            您还有 {{ unansweredCount }} 个策略未评估。请确保完成所有项目后再提交。\r\n          </v-alert>\r\n\r\n          <v-alert\r\n            v-if=\"completed\"\r\n            type=\"success\"\r\n            variant=\"tonal\"\r\n            border=\"start\"\r\n            icon=\"mdi-check-circle-outline\"\r\n            class=\"mt-4\"\r\n          >\r\n            <div class=\"d-flex align-center\">\r\n              <div>\r\n                <p class=\"mb-1\">问卷已完成！您的阅读策略评分为：</p>\r\n                <p class=\"text-h5 mb-0\">{{ totalScore }}/75</p>\r\n              </div>\r\n              <v-spacer></v-spacer>\r\n              <v-chip\r\n                :color=\"getScoreColor(totalScore)\"\r\n                size=\"large\"\r\n              >\r\n                {{ getScoreLevel(totalScore) }}\r\n              </v-chip>\r\n            </div>\r\n          </v-alert>\r\n        </template>\r\n      </v-card-text>\r\n\r\n      <v-divider></v-divider>\r\n\r\n      <v-card-actions>\r\n        <v-btn\r\n          v-if=\"!completed\"\r\n          variant=\"outlined\"\r\n          color=\"error\"\r\n          @click=\"confirmReset\"\r\n        >\r\n          重置\r\n        </v-btn>\r\n\r\n        <v-spacer></v-spacer>\r\n\r\n        <v-btn\r\n          v-if=\"!completed\"\r\n          color=\"primary\"\r\n          variant=\"flat\"\r\n          :loading=\"loading\"\r\n          :disabled=\"hasUnansweredQuestions\"\r\n          @click=\"confirmSubmit\"\r\n        >\r\n          提交\r\n        </v-btn>\r\n\r\n        <v-btn\r\n          v-else\r\n          color=\"primary\"\r\n          variant=\"flat\"\r\n          :to=\"{ name: 'Summary' }\"\r\n        >\r\n          查看学习总结\r\n          <v-icon end icon=\"mdi-arrow-right\"></v-icon>\r\n        </v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n\r\n    <!-- 确认重置对话框 -->\r\n    <v-dialog v-model=\"confirmResetDialog\" max-width=\"400\">\r\n      <v-card>\r\n        <v-card-title>确认重置</v-card-title>\r\n        <v-card-text>\r\n          您确定要重置所有答案吗？此操作不可撤销。\r\n        </v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn variant=\"text\" @click=\"confirmResetDialog = false\">取消</v-btn>\r\n          <v-btn color=\"error\" @click=\"resetAnswers\">确认</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n    <!-- 提交确认对话框 -->\r\n    <v-dialog v-model=\"confirmSubmitDialog\" max-width=\"400\">\r\n      <v-card>\r\n        <v-card-title>确认提交</v-card-title>\r\n        <v-card-text>\r\n          <p>您确定要提交答案吗？提交后将无法修改。</p>\r\n          <p v-if=\"hasUnansweredQuestions\" class=\"text-warning\">\r\n            您还有 {{ unansweredCount }} 个策略未评估。\r\n          </p>\r\n        </v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn variant=\"text\" @click=\"confirmSubmitDialog = false\">取消</v-btn>\r\n          <v-btn\r\n            color=\"primary\"\r\n            @click=\"submitAnswers\"\r\n            :disabled=\"hasUnansweredQuestions\"\r\n          >\r\n            确认提交\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, onMounted, watch } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport { useRouter } from 'vue-router';\r\n\r\nexport default {\r\n  name: 'StrategyPostTest',\r\n\r\n  setup() {\r\n    const store = useStore();\r\n    const router = useRouter();\r\n\r\n    // 策略列表\r\n    const strategyItems = computed(() => store.state.strategyItems);\r\n    const answers = ref([]);\r\n    const completed = ref(false);\r\n    const totalScore = ref(0);\r\n\r\n    // 分页\r\n    const itemsPerPage = 5;\r\n    const currentPage = ref(1);\r\n    const openPanel = ref([0]); // 默认展开第一个面板\r\n\r\n    // 对话框状态\r\n    const confirmResetDialog = ref(false);\r\n    const confirmSubmitDialog = ref(false);\r\n\r\n    // 计算总页数\r\n    const totalPages = computed(() => {\r\n      return Math.ceil(strategyItems.value.length / itemsPerPage);\r\n    });\r\n\r\n    // 未答题数量\r\n    const unansweredCount = computed(() => {\r\n      return answers.value.filter(answer => !answer).length;\r\n    });\r\n\r\n    // 是否有未答题\r\n    const hasUnansweredQuestions = computed(() => {\r\n      return unansweredCount.value > 0;\r\n    });\r\n\r\n    // 加载策略列表\r\n    const loadStrategies = async () => {\r\n      if (strategyItems.value.length === 0) {\r\n        await store.dispatch('fetchStrategies');\r\n        // 初始化答案数组\r\n        answers.value = new Array(strategyItems.value.length).fill(null);\r\n      }\r\n    };\r\n\r\n    // 切换页面\r\n    const changePage = (page) => {\r\n      currentPage.value = page;\r\n      // 计算当前页的第一个项目索引\r\n      const startIndex = (page - 1) * itemsPerPage;\r\n      // 默认展开当前页的第一个面板\r\n      openPanel.value = [startIndex % itemsPerPage];\r\n    };\r\n\r\n    // 确认重置\r\n    const confirmReset = () => {\r\n      confirmResetDialog.value = true;\r\n    };\r\n\r\n    // 重置答案\r\n    const resetAnswers = () => {\r\n      answers.value = new Array(strategyItems.value.length).fill(null);\r\n      confirmResetDialog.value = false;\r\n    };\r\n\r\n    // 确认提交\r\n    const confirmSubmit = () => {\r\n      if (hasUnansweredQuestions.value) {\r\n        // 如果有未回答的问题，切换到第一个未回答的问题所在页\r\n        const firstUnansweredIndex = answers.value.findIndex(answer => !answer);\r\n        if (firstUnansweredIndex !== -1) {\r\n          const pageNumber = Math.floor(firstUnansweredIndex / itemsPerPage) + 1;\r\n          currentPage.value = pageNumber;\r\n          // 展开未回答的问题面板\r\n          openPanel.value = [firstUnansweredIndex % itemsPerPage];\r\n        }\r\n      } else {\r\n        confirmSubmitDialog.value = true;\r\n      }\r\n    };\r\n\r\n    // 提交答案\r\n    const submitAnswers = async () => {\r\n      // 计算总分\r\n      const score = answers.value.reduce((total, answer) => total + (answer || 0), 0);\r\n      totalScore.value = score;\r\n      completed.value = true;\r\n\r\n      // 保存结果到服务器\r\n      await store.dispatch('submitStrategyResult', {\r\n        score: score,\r\n        isPreTest: false\r\n      });\r\n\r\n      confirmSubmitDialog.value = false;\r\n    };\r\n\r\n    // 获取得分颜色\r\n    const getScoreColor = (score) => {\r\n      if (score <= 25) return 'error';\r\n      if (score <= 50) return 'warning';\r\n      return 'success';\r\n    };\r\n\r\n    // 获取得分等级\r\n    const getScoreLevel = (score) => {\r\n      if (score <= 25) return '初级';\r\n      if (score <= 50) return '中级';\r\n      return '高级';\r\n    };\r\n\r\n    // 组件挂载时加载策略列表\r\n    onMounted(() => {\r\n      loadStrategies();\r\n    });\r\n\r\n    return {\r\n      strategyItems,\r\n      answers,\r\n      completed,\r\n      totalScore,\r\n      currentPage,\r\n      totalPages,\r\n      openPanel,\r\n      confirmResetDialog,\r\n      confirmSubmitDialog,\r\n      unansweredCount,\r\n      hasUnansweredQuestions,\r\n      changePage,\r\n      confirmReset,\r\n      resetAnswers,\r\n      confirmSubmit,\r\n      submitAnswers,\r\n      getScoreColor,\r\n      getScoreLevel,\r\n      loading: computed(() => store.state.loading)\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.strategy-post-test {\r\n  max-width: 100%;\r\n}\r\n\r\n.strategy-content {\r\n  background-color: #f8f9fa;\r\n  padding: 12px;\r\n  border-radius: 8px;\r\n  font-style: italic;\r\n}\r\n\r\n.strategy-options {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 8px;\r\n}\r\n\r\n.text-warning {\r\n  color: #ff9800;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}