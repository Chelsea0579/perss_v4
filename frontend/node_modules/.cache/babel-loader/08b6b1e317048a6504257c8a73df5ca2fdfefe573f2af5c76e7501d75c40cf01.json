{"ast":null,"code":"import { ref, computed, onMounted, watch, nextTick } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nimport { marked } from 'marked';\nexport default {\n  name: 'AIInteraction',\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const chatMessages = ref(null);\n\n    // 当前活动标签\n    const activeTab = ref('overview');\n\n    // 聊天消息\n    const userMessage = ref('');\n    const chatHistory = computed(() => store.state.chatHistory);\n\n    // 加载状态\n    const loading = computed(() => store.state.loading);\n    const loadingAnalysis = ref(false);\n    const loadingWrongAnswers = ref(false);\n    const loadingStrategies = ref(false);\n\n    // 分析数据\n    const profileAnalysis = computed(() => store.state.profileAnalysis);\n    const wrongAnswersAnalysis = computed(() => store.state.wrongAnswersAnalysis);\n    const strategySuggestions = computed(() => store.state.strategySuggestions);\n\n    // 格式化分析文本，使用Markdown渲染\n    const formattedProfileAnalysis = computed(() => {\n      return profileAnalysis.value ? marked(profileAnalysis.value) : '';\n    });\n    const formattedWrongAnswersAnalysis = computed(() => {\n      return wrongAnswersAnalysis.value ? marked(wrongAnswersAnalysis.value) : '';\n    });\n    const formattedStrategySuggestions = computed(() => {\n      return strategySuggestions.value ? marked(strategySuggestions.value) : '';\n    });\n\n    // 加载用户画像分析\n    const loadProfileAnalysis = async () => {\n      loadingAnalysis.value = true;\n      await store.dispatch('fetchProfileAnalysis');\n      loadingAnalysis.value = false;\n    };\n\n    // 加载错题分析\n    const loadWrongAnswersAnalysis = async () => {\n      loadingWrongAnswers.value = true;\n      await store.dispatch('fetchWrongAnswersAnalysis');\n      loadingWrongAnswers.value = false;\n    };\n\n    // 加载策略建议\n    const loadStrategySuggestions = async () => {\n      loadingStrategies.value = true;\n      await store.dispatch('fetchStrategySuggestions');\n      loadingStrategies.value = false;\n    };\n\n    // 发送聊天消息\n    const sendMessage = async () => {\n      const message = userMessage.value.trim();\n      if (!message || loading.value) return;\n      userMessage.value = '';\n      await store.dispatch('sendChatMessage', message);\n    };\n\n    // 格式化消息，将换行符转换为<br>\n    const formatMessage = message => {\n      return message.replace(/\\n/g, '<br>');\n    };\n\n    // 格式化时间戳\n    const formatTime = timestamp => {\n      const date = new Date(timestamp);\n      return date.toLocaleTimeString([], {\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    };\n\n    // 更新阶段\n    const updatePhase = () => {\n      store.dispatch('setCurrentPhase', 'feedback');\n    };\n\n    // 组件挂载时\n    onMounted(async () => {\n      // 获取用户信息\n      await store.dispatch('fetchUserProfile');\n\n      // 自动加载用户画像分析\n      if (!profileAnalysis.value) {\n        loadProfileAnalysis();\n      }\n    });\n\n    // 监听聊天历史变化，自动滚动到底部\n    watch(chatHistory, () => {\n      nextTick(() => {\n        if (chatMessages.value) {\n          chatMessages.value.scrollTop = chatMessages.value.scrollHeight;\n        }\n      });\n    });\n    return {\n      activeTab,\n      userMessage,\n      chatHistory,\n      chatMessages,\n      loading,\n      loadingAnalysis,\n      loadingWrongAnswers,\n      loadingStrategies,\n      profileAnalysis,\n      wrongAnswersAnalysis,\n      strategySuggestions,\n      formattedProfileAnalysis,\n      formattedWrongAnswersAnalysis,\n      formattedStrategySuggestions,\n      sendMessage,\n      formatMessage,\n      formatTime,\n      loadProfileAnalysis,\n      loadWrongAnswersAnalysis,\n      loadStrategySuggestions,\n      updatePhase\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","watch","nextTick","useStore","useRouter","marked","name","setup","store","router","chatMessages","activeTab","userMessage","chatHistory","state","loading","loadingAnalysis","loadingWrongAnswers","loadingStrategies","profileAnalysis","wrongAnswersAnalysis","strategySuggestions","formattedProfileAnalysis","value","formattedWrongAnswersAnalysis","formattedStrategySuggestions","loadProfileAnalysis","dispatch","loadWrongAnswersAnalysis","loadStrategySuggestions","sendMessage","message","trim","formatMessage","replace","formatTime","timestamp","date","Date","toLocaleTimeString","hour","minute","updatePhase","scrollTop","scrollHeight"],"sources":["D:\\PycharmProjects\\perss_v4\\frontend\\src\\views\\execution\\AIInteraction.vue"],"sourcesContent":["<template>\r\n  <div class=\"ai-interaction\">\r\n    <v-tabs v-model=\"activeTab\" bg-color=\"transparent\">\r\n      <v-tab value=\"overview\">\r\n        <v-icon start icon=\"mdi-account-details-outline\"></v-icon>\r\n        学习概览\r\n      </v-tab>\r\n      <v-tab value=\"wrong-answers\">\r\n        <v-icon start icon=\"mdi-clipboard-alert-outline\"></v-icon>\r\n        错题解析\r\n      </v-tab>\r\n      <v-tab value=\"strategies\">\r\n        <v-icon start icon=\"mdi-lightbulb-outline\"></v-icon>\r\n        策略建议\r\n      </v-tab>\r\n      <v-tab value=\"chat\">\r\n        <v-icon start icon=\"mdi-message-text-outline\"></v-icon>\r\n        个性化辅导\r\n      </v-tab>\r\n    </v-tabs>\r\n\r\n    <v-window v-model=\"activeTab\" class=\"mt-4\">\r\n      <!-- 学习概览 -->\r\n      <v-window-item value=\"overview\">\r\n        <v-card>\r\n          <v-card-title class=\"text-h5 primary--text\">\r\n            <v-icon start icon=\"mdi-account-details-outline\"></v-icon>\r\n            学习概览\r\n          </v-card-title>\r\n\r\n          <v-card-text>\r\n            <v-alert\r\n              v-if=\"!profileAnalysis && !loadingAnalysis\"\r\n              type=\"info\"\r\n              variant=\"tonal\"\r\n              border=\"start\"\r\n            >\r\n              正在加载个性化学习分析，请稍候...\r\n              <v-btn\r\n                variant=\"text\"\r\n                color=\"primary\"\r\n                @click=\"loadProfileAnalysis\"\r\n                class=\"mt-2\"\r\n              >\r\n                点击分析\r\n              </v-btn>\r\n            </v-alert>\r\n\r\n            <div v-else-if=\"profileAnalysis\" class=\"analysis-content\">\r\n              <div v-html=\"formattedProfileAnalysis\"></div>\r\n            </div>\r\n\r\n            <v-skeleton-loader\r\n              v-else-if=\"loadingAnalysis\"\r\n              type=\"article\"\r\n            ></v-skeleton-loader>\r\n          </v-card-text>\r\n        </v-card>\r\n      </v-window-item>\r\n\r\n      <!-- 错题解析 -->\r\n      <v-window-item value=\"wrong-answers\">\r\n        <v-card>\r\n          <v-card-title class=\"text-h5 primary--text\">\r\n            <v-icon start icon=\"mdi-clipboard-alert-outline\"></v-icon>\r\n            错题解析\r\n          </v-card-title>\r\n\r\n          <v-card-text>\r\n            <v-alert\r\n              v-if=\"!wrongAnswersAnalysis && !loadingWrongAnswers\"\r\n              type=\"info\"\r\n              variant=\"tonal\"\r\n              border=\"start\"\r\n            >\r\n              点击下方按钮获取您的错题解析\r\n              <v-btn\r\n                variant=\"text\"\r\n                color=\"primary\"\r\n                @click=\"loadWrongAnswersAnalysis\"\r\n                class=\"mt-2\"\r\n              >\r\n                分析错题\r\n              </v-btn>\r\n            </v-alert>\r\n\r\n            <div v-else-if=\"wrongAnswersAnalysis\" class=\"analysis-content\">\r\n              <div v-html=\"formattedWrongAnswersAnalysis\"></div>\r\n            </div>\r\n\r\n            <v-skeleton-loader\r\n              v-else-if=\"loadingWrongAnswers\"\r\n              type=\"article\"\r\n            ></v-skeleton-loader>\r\n          </v-card-text>\r\n        </v-card>\r\n      </v-window-item>\r\n\r\n      <!-- 策略建议 -->\r\n      <v-window-item value=\"strategies\">\r\n        <v-card>\r\n          <v-card-title class=\"text-h5 primary--text\">\r\n            <v-icon start icon=\"mdi-lightbulb-outline\"></v-icon>\r\n            阅读策略建议\r\n          </v-card-title>\r\n\r\n          <v-card-text>\r\n            <v-alert\r\n              v-if=\"!strategySuggestions && !loadingStrategies\"\r\n              type=\"info\"\r\n              variant=\"tonal\"\r\n              border=\"start\"\r\n            >\r\n              点击下方按钮获取个性化阅读策略建议\r\n              <v-btn\r\n                variant=\"text\"\r\n                color=\"primary\"\r\n                @click=\"loadStrategySuggestions\"\r\n                class=\"mt-2\"\r\n              >\r\n                获取建议\r\n              </v-btn>\r\n            </v-alert>\r\n\r\n            <div v-else-if=\"strategySuggestions\" class=\"analysis-content\">\r\n              <div v-html=\"formattedStrategySuggestions\"></div>\r\n            </div>\r\n\r\n            <v-skeleton-loader\r\n              v-else-if=\"loadingStrategies\"\r\n              type=\"article\"\r\n            ></v-skeleton-loader>\r\n          </v-card-text>\r\n        </v-card>\r\n      </v-window-item>\r\n\r\n      <!-- 个性化辅导 -->\r\n      <v-window-item value=\"chat\">\r\n        <v-card>\r\n          <v-card-title class=\"text-h5 primary--text\">\r\n            <v-icon start icon=\"mdi-message-text-outline\"></v-icon>\r\n            个性化辅导交流\r\n          </v-card-title>\r\n\r\n          <v-card-text>\r\n            <div class=\"chat-container\">\r\n              <div class=\"chat-messages\" ref=\"chatMessages\">\r\n                <!-- 系统提示消息 -->\r\n                <v-alert\r\n                  v-if=\"chatHistory.length === 0\"\r\n                  type=\"info\"\r\n                  variant=\"tonal\"\r\n                  border=\"start\"\r\n                  class=\"mb-4\"\r\n                >\r\n                  <p>欢迎使用个性化辅导功能！您可以：</p>\r\n                  <ul>\r\n                    <li>询问如何应用特定的阅读策略</li>\r\n                    <li>请求解释难以理解的阅读概念</li>\r\n                    <li>获取针对您水平的阅读材料建议</li>\r\n                    <li>寻求进一步的英语阅读学习方法</li>\r\n                  </ul>\r\n                </v-alert>\r\n\r\n                <!-- 聊天消息 -->\r\n                <div\r\n                  v-for=\"(message, index) in chatHistory\"\r\n                  :key=\"index\"\r\n                  :class=\"['message', message.role === 'user' ? 'user-message' : 'assistant-message']\"\r\n                >\r\n                  <div class=\"message-content\">\r\n                    <div v-html=\"formatMessage(message.content)\"></div>\r\n                    <div class=\"message-time\">{{ formatTime(message.timestamp) }}</div>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- 加载中提示 -->\r\n                <div v-if=\"loading\" class=\"message assistant-message\">\r\n                  <div class=\"message-content\">\r\n                    <v-progress-circular\r\n                      indeterminate\r\n                      color=\"primary\"\r\n                      size=\"24\"\r\n                    ></v-progress-circular>\r\n                    <span class=\"ml-2\">思考中...</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"chat-input\">\r\n                <v-textarea\r\n                  v-model=\"userMessage\"\r\n                  variant=\"outlined\"\r\n                  label=\"输入您的问题\"\r\n                  rows=\"2\"\r\n                  auto-grow\r\n                  hide-details\r\n                  class=\"chat-textarea\"\r\n                  @keydown.enter.exact.prevent=\"sendMessage\"\r\n                ></v-textarea>\r\n\r\n                <v-btn\r\n                  color=\"primary\"\r\n                  icon\r\n                  class=\"send-button\"\r\n                  @click=\"sendMessage\"\r\n                  :disabled=\"!userMessage.trim() || loading\"\r\n                >\r\n                  <v-icon icon=\"mdi-send\"></v-icon>\r\n                </v-btn>\r\n              </div>\r\n            </div>\r\n          </v-card-text>\r\n        </v-card>\r\n      </v-window-item>\r\n    </v-window>\r\n\r\n    <div class=\"d-flex justify-end mt-4\">\r\n      <v-btn\r\n        color=\"success\"\r\n        variant=\"flat\"\r\n        :to=\"{ name: 'PostTest', params: { id: 3 } }\"\r\n        @click=\"updatePhase\"\r\n      >\r\n        进入后测阶段\r\n        <v-icon end icon=\"mdi-arrow-right\"></v-icon>\r\n      </v-btn>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, onMounted, watch, nextTick } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport { useRouter } from 'vue-router';\r\nimport { marked } from 'marked';\r\n\r\nexport default {\r\n  name: 'AIInteraction',\r\n\r\n  setup() {\r\n    const store = useStore();\r\n    const router = useRouter();\r\n    const chatMessages = ref(null);\r\n\r\n    // 当前活动标签\r\n    const activeTab = ref('overview');\r\n\r\n    // 聊天消息\r\n    const userMessage = ref('');\r\n    const chatHistory = computed(() => store.state.chatHistory);\r\n\r\n    // 加载状态\r\n    const loading = computed(() => store.state.loading);\r\n    const loadingAnalysis = ref(false);\r\n    const loadingWrongAnswers = ref(false);\r\n    const loadingStrategies = ref(false);\r\n\r\n    // 分析数据\r\n    const profileAnalysis = computed(() => store.state.profileAnalysis);\r\n    const wrongAnswersAnalysis = computed(() => store.state.wrongAnswersAnalysis);\r\n    const strategySuggestions = computed(() => store.state.strategySuggestions);\r\n\r\n    // 格式化分析文本，使用Markdown渲染\r\n    const formattedProfileAnalysis = computed(() => {\r\n      return profileAnalysis.value ? marked(profileAnalysis.value) : '';\r\n    });\r\n\r\n    const formattedWrongAnswersAnalysis = computed(() => {\r\n      return wrongAnswersAnalysis.value ? marked(wrongAnswersAnalysis.value) : '';\r\n    });\r\n\r\n    const formattedStrategySuggestions = computed(() => {\r\n      return strategySuggestions.value ? marked(strategySuggestions.value) : '';\r\n    });\r\n\r\n    // 加载用户画像分析\r\n    const loadProfileAnalysis = async () => {\r\n      loadingAnalysis.value = true;\r\n      await store.dispatch('fetchProfileAnalysis');\r\n      loadingAnalysis.value = false;\r\n    };\r\n\r\n    // 加载错题分析\r\n    const loadWrongAnswersAnalysis = async () => {\r\n      loadingWrongAnswers.value = true;\r\n      await store.dispatch('fetchWrongAnswersAnalysis');\r\n      loadingWrongAnswers.value = false;\r\n    };\r\n\r\n    // 加载策略建议\r\n    const loadStrategySuggestions = async () => {\r\n      loadingStrategies.value = true;\r\n      await store.dispatch('fetchStrategySuggestions');\r\n      loadingStrategies.value = false;\r\n    };\r\n\r\n    // 发送聊天消息\r\n    const sendMessage = async () => {\r\n      const message = userMessage.value.trim();\r\n      if (!message || loading.value) return;\r\n\r\n      userMessage.value = '';\r\n      await store.dispatch('sendChatMessage', message);\r\n    };\r\n\r\n    // 格式化消息，将换行符转换为<br>\r\n    const formatMessage = (message) => {\r\n      return message.replace(/\\n/g, '<br>');\r\n    };\r\n\r\n    // 格式化时间戳\r\n    const formatTime = (timestamp) => {\r\n      const date = new Date(timestamp);\r\n      return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n    };\r\n\r\n    // 更新阶段\r\n    const updatePhase = () => {\r\n      store.dispatch('setCurrentPhase', 'feedback');\r\n    };\r\n\r\n    // 组件挂载时\r\n    onMounted(async () => {\r\n      // 获取用户信息\r\n      await store.dispatch('fetchUserProfile');\r\n\r\n      // 自动加载用户画像分析\r\n      if (!profileAnalysis.value) {\r\n        loadProfileAnalysis();\r\n      }\r\n    });\r\n\r\n    // 监听聊天历史变化，自动滚动到底部\r\n    watch(chatHistory, () => {\r\n      nextTick(() => {\r\n        if (chatMessages.value) {\r\n          chatMessages.value.scrollTop = chatMessages.value.scrollHeight;\r\n        }\r\n      });\r\n    });\r\n\r\n    return {\r\n      activeTab,\r\n      userMessage,\r\n      chatHistory,\r\n      chatMessages,\r\n      loading,\r\n      loadingAnalysis,\r\n      loadingWrongAnswers,\r\n      loadingStrategies,\r\n      profileAnalysis,\r\n      wrongAnswersAnalysis,\r\n      strategySuggestions,\r\n      formattedProfileAnalysis,\r\n      formattedWrongAnswersAnalysis,\r\n      formattedStrategySuggestions,\r\n      sendMessage,\r\n      formatMessage,\r\n      formatTime,\r\n      loadProfileAnalysis,\r\n      loadWrongAnswersAnalysis,\r\n      loadStrategySuggestions,\r\n      updatePhase\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.ai-interaction {\r\n  max-width: 100%;\r\n}\r\n\r\n.analysis-content {\r\n  max-height: 600px;\r\n  overflow-y: auto;\r\n  padding: 16px;\r\n  background-color: #f8f9fa;\r\n  border-radius: 8px;\r\n}\r\n\r\n.chat-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 600px;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n}\r\n\r\n.chat-messages {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 16px;\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.message {\r\n  margin-bottom: 16px;\r\n  max-width: 80%;\r\n}\r\n\r\n.user-message {\r\n  margin-left: auto;\r\n}\r\n\r\n.assistant-message {\r\n  margin-right: auto;\r\n}\r\n\r\n.message-content {\r\n  padding: 12px;\r\n  border-radius: 12px;\r\n  position: relative;\r\n}\r\n\r\n.user-message .message-content {\r\n  background-color: #e3f2fd;\r\n  color: #0d47a1;\r\n}\r\n\r\n.assistant-message .message-content {\r\n  background-color: #f5f5f5;\r\n  color: #333;\r\n}\r\n\r\n.message-time {\r\n  font-size: 0.7rem;\r\n  color: #757575;\r\n  text-align: right;\r\n  margin-top: 4px;\r\n}\r\n\r\n.chat-input {\r\n  display: flex;\r\n  padding: 8px;\r\n  background-color: #fff;\r\n  border-top: 1px solid #e0e0e0;\r\n}\r\n\r\n.chat-textarea {\r\n  flex: 1;\r\n}\r\n\r\n.send-button {\r\n  margin-left: 8px;\r\n  align-self: flex-end;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}