{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createBlock as _createBlock, withModifiers as _withModifiers, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"user-profile\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_icon = _resolveComponent(\"v-icon\");\n  const _component_v_card_title = _resolveComponent(\"v-card-title\");\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_v_select = _resolveComponent(\"v-select\");\n  const _component_v_radio = _resolveComponent(\"v-radio\");\n  const _component_v_radio_group = _resolveComponent(\"v-radio-group\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  const _component_v_form = _resolveComponent(\"v-form\");\n  const _component_v_card_text = _resolveComponent(\"v-card-text\");\n  const _component_v_divider = _resolveComponent(\"v-divider\");\n  const _component_v_spacer = _resolveComponent(\"v-spacer\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_v_card, null, {\n    default: _withCtx(() => [_createVNode(_component_v_card_title, {\n      class: \"text-h5 primary--text\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_icon, {\n        start: \"\",\n        icon: \"mdi-account-outline\"\n      }), _cache[14] || (_cache[14] = _createTextVNode(\" 用户信息采集 \"))]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_v_card_text, null, {\n      default: _withCtx(() => [_cache[19] || (_cache[19] = _createElementVNode(\"p\", {\n        class: \"text-body-1 mb-4\"\n      }, \" 为了提供个性化的英语阅读学习支持，请填写以下信息，帮助我们更好地了解您的英语学习背景和需求。 \", -1 /* HOISTED */)), _createVNode(_component_v_form, {\n        ref: \"form\",\n        modelValue: $setup.valid,\n        \"onUpdate:modelValue\": _cache[13] || (_cache[13] = $event => $setup.valid = $event),\n        onSubmit: _withModifiers($setup.submitForm, [\"prevent\"])\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_container, null, {\n          default: _withCtx(() => [_createVNode(_component_v_row, null, {\n            default: _withCtx(() => [_createCommentVNode(\" 基本信息 \"), _createVNode(_component_v_col, {\n              cols: \"12\"\n            }, {\n              default: _withCtx(() => _cache[15] || (_cache[15] = [_createElementVNode(\"h3\", {\n                class: \"text-subtitle-1 mb-2\"\n              }, \"基本信息\", -1 /* HOISTED */)])),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_v_col, {\n              cols: \"12\",\n              md: \"6\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                modelValue: $setup.formData.name,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.formData.name = $event),\n                label: \"姓名\",\n                variant: \"outlined\",\n                required: \"\",\n                rules: $setup.nameRules\n              }, null, 8 /* PROPS */, [\"modelValue\", \"rules\"])]),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_v_col, {\n              cols: \"12\",\n              md: \"6\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_select, {\n                modelValue: $setup.formData.gender,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.formData.gender = $event),\n                label: \"性别\",\n                variant: \"outlined\",\n                items: ['男', '女', '其他']\n              }, null, 8 /* PROPS */, [\"modelValue\"])]),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_v_col, {\n              cols: \"12\",\n              md: \"6\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                modelValue: $setup.formData.grade,\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.formData.grade = $event),\n                label: \"年级\",\n                variant: \"outlined\",\n                hint: \"例如：大一、大二、硕士一年级等\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])]),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_v_col, {\n              cols: \"12\",\n              md: \"6\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                modelValue: $setup.formData.major,\n                \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.formData.major = $event),\n                label: \"专业\",\n                variant: \"outlined\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])]),\n              _: 1 /* STABLE */\n            }), _createCommentVNode(\" CET-4相关信息 \"), _createVNode(_component_v_col, {\n              cols: \"12\"\n            }, {\n              default: _withCtx(() => _cache[16] || (_cache[16] = [_createElementVNode(\"h3\", {\n                class: \"text-subtitle-1 mb-2\"\n              }, \"英语四级(CET-4)信息\", -1 /* HOISTED */)])),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_v_col, {\n              cols: \"12\",\n              md: \"6\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_radio_group, {\n                modelValue: $setup.formData.cet4_taken,\n                \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.formData.cet4_taken = $event),\n                label: \"是否参加过英语四级考试\",\n                inline: \"\"\n              }, {\n                default: _withCtx(() => [_createVNode(_component_v_radio, {\n                  value: \"是\",\n                  label: \"是\"\n                }), _createVNode(_component_v_radio, {\n                  value: \"否\",\n                  label: \"否\"\n                })]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"modelValue\"])]),\n              _: 1 /* STABLE */\n            }), $setup.formData.cet4_taken === '是' ? (_openBlock(), _createBlock(_component_v_col, {\n              key: 0,\n              cols: \"12\",\n              md: \"6\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                modelValue: $setup.formData.cet4_score,\n                \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.formData.cet4_score = $event),\n                label: \"英语四级总分\",\n                variant: \"outlined\",\n                type: \"number\",\n                min: \"0\",\n                max: \"710\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])]),\n              _: 1 /* STABLE */\n            })) : _createCommentVNode(\"v-if\", true), $setup.formData.cet4_taken === '是' ? (_openBlock(), _createBlock(_component_v_col, {\n              key: 1,\n              cols: \"12\",\n              md: \"6\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                modelValue: $setup.formData.cet4_reading_score,\n                \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.formData.cet4_reading_score = $event),\n                label: \"英语四级阅读分数\",\n                variant: \"outlined\",\n                type: \"number\",\n                min: \"0\",\n                max: \"249\",\n                hint: \"四级阅读满分为249分\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])]),\n              _: 1 /* STABLE */\n            })) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" CET-6相关信息 \"), _createVNode(_component_v_col, {\n              cols: \"12\"\n            }, {\n              default: _withCtx(() => _cache[17] || (_cache[17] = [_createElementVNode(\"h3\", {\n                class: \"text-subtitle-1 mb-2\"\n              }, \"英语六级(CET-6)信息\", -1 /* HOISTED */)])),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_v_col, {\n              cols: \"12\",\n              md: \"6\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_radio_group, {\n                modelValue: $setup.formData.cet6_taken,\n                \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.formData.cet6_taken = $event),\n                label: \"是否参加过英语六级考试\",\n                inline: \"\"\n              }, {\n                default: _withCtx(() => [_createVNode(_component_v_radio, {\n                  value: \"是\",\n                  label: \"是\"\n                }), _createVNode(_component_v_radio, {\n                  value: \"否\",\n                  label: \"否\"\n                })]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"modelValue\"])]),\n              _: 1 /* STABLE */\n            }), $setup.formData.cet6_taken === '是' ? (_openBlock(), _createBlock(_component_v_col, {\n              key: 2,\n              cols: \"12\",\n              md: \"6\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                modelValue: $setup.formData.cet6_score,\n                \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $setup.formData.cet6_score = $event),\n                label: \"英语六级总分\",\n                variant: \"outlined\",\n                type: \"number\",\n                min: \"0\",\n                max: \"710\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])]),\n              _: 1 /* STABLE */\n            })) : _createCommentVNode(\"v-if\", true), $setup.formData.cet6_taken === '是' ? (_openBlock(), _createBlock(_component_v_col, {\n              key: 3,\n              cols: \"12\",\n              md: \"6\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                modelValue: $setup.formData.cet6_reading_score,\n                \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $setup.formData.cet6_reading_score = $event),\n                label: \"英语六级阅读分数\",\n                variant: \"outlined\",\n                type: \"number\",\n                min: \"0\",\n                max: \"249\",\n                hint: \"六级阅读满分为249分\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])]),\n              _: 1 /* STABLE */\n            })) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 其他英语考试信息 \"), _createVNode(_component_v_col, {\n              cols: \"12\"\n            }, {\n              default: _withCtx(() => _cache[18] || (_cache[18] = [_createElementVNode(\"h3\", {\n                class: \"text-subtitle-1 mb-2\"\n              }, \"其他英语考试信息（选填）\", -1 /* HOISTED */)])),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_v_col, {\n              cols: \"12\",\n              md: \"4\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                modelValue: $setup.formData.exam_name,\n                \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $setup.formData.exam_name = $event),\n                label: \"考试名称\",\n                variant: \"outlined\",\n                hint: \"例如：托福、雅思、专四、专八等\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])]),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_v_col, {\n              cols: \"12\",\n              md: \"4\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                modelValue: $setup.formData.total_score,\n                \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $setup.formData.total_score = $event),\n                label: \"总分\",\n                variant: \"outlined\",\n                type: \"number\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])]),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_v_col, {\n              cols: \"12\",\n              md: \"4\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                modelValue: $setup.formData.reading_score,\n                \"onUpdate:modelValue\": _cache[12] || (_cache[12] = $event => $setup.formData.reading_score = $event),\n                label: \"阅读分数\",\n                variant: \"outlined\",\n                type: \"number\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])]),\n              _: 1 /* STABLE */\n            })]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"modelValue\", \"onSubmit\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_v_divider), _createVNode(_component_v_card_actions, null, {\n      default: _withCtx(() => [_createVNode(_component_v_spacer), _createVNode(_component_v_btn, {\n        color: \"primary\",\n        variant: \"flat\",\n        loading: $setup.loading,\n        disabled: !$setup.valid,\n        onClick: $setup.submitForm\n      }, {\n        default: _withCtx(() => [_cache[20] || (_cache[20] = _createTextVNode(\" 保存并继续 \")), _createVNode(_component_v_icon, {\n          end: \"\",\n          icon: \"mdi-arrow-right\"\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"loading\", \"disabled\", \"onClick\"])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_v_card","default","_withCtx","_component_v_card_title","_component_v_icon","start","icon","_createTextVNode","_","_component_v_card_text","_createElementVNode","_component_v_form","ref","modelValue","$setup","valid","_cache","$event","onSubmit","_withModifiers","submitForm","_component_v_container","_component_v_row","_createCommentVNode","_component_v_col","cols","md","_component_v_text_field","formData","name","label","variant","required","rules","nameRules","_component_v_select","gender","items","grade","hint","major","_component_v_radio_group","cet4_taken","inline","_component_v_radio","value","_createBlock","key","cet4_score","type","min","max","cet4_reading_score","cet6_taken","cet6_score","cet6_reading_score","exam_name","total_score","reading_score","_component_v_divider","_component_v_card_actions","_component_v_spacer","_component_v_btn","color","loading","disabled","onClick","end"],"sources":["D:\\PycharmProjects\\perss_v4\\frontend\\src\\views\\planning\\UserProfile.vue"],"sourcesContent":["<template>\r\n  <div class=\"user-profile\">\r\n    <v-card>\r\n      <v-card-title class=\"text-h5 primary--text\">\r\n        <v-icon start icon=\"mdi-account-outline\"></v-icon>\r\n        用户信息采集\r\n      </v-card-title>\r\n\r\n      <v-card-text>\r\n        <p class=\"text-body-1 mb-4\">\r\n          为了提供个性化的英语阅读学习支持，请填写以下信息，帮助我们更好地了解您的英语学习背景和需求。\r\n        </p>\r\n\r\n        <v-form ref=\"form\" v-model=\"valid\" @submit.prevent=\"submitForm\">\r\n          <v-container>\r\n            <v-row>\r\n              <!-- 基本信息 -->\r\n              <v-col cols=\"12\">\r\n                <h3 class=\"text-subtitle-1 mb-2\">基本信息</h3>\r\n              </v-col>\r\n\r\n              <v-col cols=\"12\" md=\"6\">\r\n                <v-text-field\r\n                  v-model=\"formData.name\"\r\n                  label=\"姓名\"\r\n                  variant=\"outlined\"\r\n                  required\r\n                  :rules=\"nameRules\"\r\n                ></v-text-field>\r\n              </v-col>\r\n\r\n              <v-col cols=\"12\" md=\"6\">\r\n                <v-select\r\n                  v-model=\"formData.gender\"\r\n                  label=\"性别\"\r\n                  variant=\"outlined\"\r\n                  :items=\"['男', '女', '其他']\"\r\n                ></v-select>\r\n              </v-col>\r\n\r\n              <v-col cols=\"12\" md=\"6\">\r\n                <v-text-field\r\n                  v-model=\"formData.grade\"\r\n                  label=\"年级\"\r\n                  variant=\"outlined\"\r\n                  hint=\"例如：大一、大二、硕士一年级等\"\r\n                ></v-text-field>\r\n              </v-col>\r\n\r\n              <v-col cols=\"12\" md=\"6\">\r\n                <v-text-field\r\n                  v-model=\"formData.major\"\r\n                  label=\"专业\"\r\n                  variant=\"outlined\"\r\n                ></v-text-field>\r\n              </v-col>\r\n\r\n              <!-- CET-4相关信息 -->\r\n              <v-col cols=\"12\">\r\n                <h3 class=\"text-subtitle-1 mb-2\">英语四级(CET-4)信息</h3>\r\n              </v-col>\r\n\r\n              <v-col cols=\"12\" md=\"6\">\r\n                <v-radio-group\r\n                  v-model=\"formData.cet4_taken\"\r\n                  label=\"是否参加过英语四级考试\"\r\n                  inline\r\n                >\r\n                  <v-radio value=\"是\" label=\"是\"></v-radio>\r\n                  <v-radio value=\"否\" label=\"否\"></v-radio>\r\n                </v-radio-group>\r\n              </v-col>\r\n\r\n              <v-col cols=\"12\" md=\"6\" v-if=\"formData.cet4_taken === '是'\">\r\n                <v-text-field\r\n                  v-model=\"formData.cet4_score\"\r\n                  label=\"英语四级总分\"\r\n                  variant=\"outlined\"\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                  max=\"710\"\r\n                ></v-text-field>\r\n              </v-col>\r\n\r\n              <v-col cols=\"12\" md=\"6\" v-if=\"formData.cet4_taken === '是'\">\r\n                <v-text-field\r\n                  v-model=\"formData.cet4_reading_score\"\r\n                  label=\"英语四级阅读分数\"\r\n                  variant=\"outlined\"\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                  max=\"249\"\r\n                  hint=\"四级阅读满分为249分\"\r\n                ></v-text-field>\r\n              </v-col>\r\n\r\n              <!-- CET-6相关信息 -->\r\n              <v-col cols=\"12\">\r\n                <h3 class=\"text-subtitle-1 mb-2\">英语六级(CET-6)信息</h3>\r\n              </v-col>\r\n\r\n              <v-col cols=\"12\" md=\"6\">\r\n                <v-radio-group\r\n                  v-model=\"formData.cet6_taken\"\r\n                  label=\"是否参加过英语六级考试\"\r\n                  inline\r\n                >\r\n                  <v-radio value=\"是\" label=\"是\"></v-radio>\r\n                  <v-radio value=\"否\" label=\"否\"></v-radio>\r\n                </v-radio-group>\r\n              </v-col>\r\n\r\n              <v-col cols=\"12\" md=\"6\" v-if=\"formData.cet6_taken === '是'\">\r\n                <v-text-field\r\n                  v-model=\"formData.cet6_score\"\r\n                  label=\"英语六级总分\"\r\n                  variant=\"outlined\"\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                  max=\"710\"\r\n                ></v-text-field>\r\n              </v-col>\r\n\r\n              <v-col cols=\"12\" md=\"6\" v-if=\"formData.cet6_taken === '是'\">\r\n                <v-text-field\r\n                  v-model=\"formData.cet6_reading_score\"\r\n                  label=\"英语六级阅读分数\"\r\n                  variant=\"outlined\"\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                  max=\"249\"\r\n                  hint=\"六级阅读满分为249分\"\r\n                ></v-text-field>\r\n              </v-col>\r\n\r\n              <!-- 其他英语考试信息 -->\r\n              <v-col cols=\"12\">\r\n                <h3 class=\"text-subtitle-1 mb-2\">其他英语考试信息（选填）</h3>\r\n              </v-col>\r\n\r\n              <v-col cols=\"12\" md=\"4\">\r\n                <v-text-field\r\n                  v-model=\"formData.exam_name\"\r\n                  label=\"考试名称\"\r\n                  variant=\"outlined\"\r\n                  hint=\"例如：托福、雅思、专四、专八等\"\r\n                ></v-text-field>\r\n              </v-col>\r\n\r\n              <v-col cols=\"12\" md=\"4\">\r\n                <v-text-field\r\n                  v-model=\"formData.total_score\"\r\n                  label=\"总分\"\r\n                  variant=\"outlined\"\r\n                  type=\"number\"\r\n                ></v-text-field>\r\n              </v-col>\r\n\r\n              <v-col cols=\"12\" md=\"4\">\r\n                <v-text-field\r\n                  v-model=\"formData.reading_score\"\r\n                  label=\"阅读分数\"\r\n                  variant=\"outlined\"\r\n                  type=\"number\"\r\n                ></v-text-field>\r\n              </v-col>\r\n            </v-row>\r\n          </v-container>\r\n        </v-form>\r\n      </v-card-text>\r\n\r\n      <v-divider></v-divider>\r\n\r\n      <v-card-actions>\r\n        <v-spacer></v-spacer>\r\n        <v-btn\r\n          color=\"primary\"\r\n          variant=\"flat\"\r\n          :loading=\"loading\"\r\n          :disabled=\"!valid\"\r\n          @click=\"submitForm\"\r\n        >\r\n          保存并继续\r\n          <v-icon end icon=\"mdi-arrow-right\"></v-icon>\r\n        </v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, onMounted } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport { useRouter } from 'vue-router';\r\n\r\nexport default {\r\n  name: 'UserProfile',\r\n\r\n  setup() {\r\n    const store = useStore();\r\n    const router = useRouter();\r\n    const form = ref(null);\r\n    const valid = ref(false);\r\n    const loading = computed(() => store.state.loading);\r\n\r\n    // 表单数据\r\n    const formData = ref({\r\n      name: '',\r\n      gender: '',\r\n      grade: '',\r\n      major: '',\r\n      cet4_taken: '否',\r\n      cet4_score: '',\r\n      cet4_reading_score: '',\r\n      cet6_taken: '否',\r\n      cet6_score: '',\r\n      cet6_reading_score: '',\r\n      exam_name: '',\r\n      total_score: '',\r\n      reading_score: ''\r\n    });\r\n\r\n    // 表单验证规则\r\n    const nameRules = [\r\n      v => !!v || '姓名不能为空',\r\n      v => (v && v.length <= 20) || '姓名不能超过20个字符'\r\n    ];\r\n\r\n    // 提交表单\r\n    const submitForm = async () => {\r\n      if (!valid.value) return;\r\n\r\n      const userData = {\r\n        name: formData.value.name,\r\n        grade: formData.value.grade,\r\n        major: formData.value.major,\r\n        gender: formData.value.gender,\r\n        cet4_taken: formData.value.cet4_taken,\r\n        cet4_score: formData.value.cet4_score,\r\n        cet4_reading_score: formData.value.cet4_reading_score,\r\n        cet6_taken: formData.value.cet6_taken,\r\n        cet6_score: formData.value.cet6_score,\r\n        cet6_reading_score: formData.value.cet6_reading_score,\r\n        other_scores: formData.value.exam_name ? \"是\" : \"否\",\r\n        exam_name: formData.value.exam_name,\r\n        total_score: formData.value.total_score,\r\n        reading_score: formData.value.reading_score\r\n      };\r\n\r\n      const success = await store.dispatch('createUserProfile', userData);\r\n\r\n      if (success) {\r\n        // 导航到前测页面\r\n        router.push({ name: 'PreTest', params: { id: 1 } });\r\n      }\r\n    };\r\n\r\n    // 组件挂载时，检查是否有用户名，有则预填表单\r\n    onMounted(async () => {\r\n      const userName = store.state.userName;\r\n      if (userName) {\r\n        formData.value.name = userName;\r\n\r\n        // 获取用户信息\r\n        await store.dispatch('fetchUserProfile');\r\n        const userProfile = store.state.userProfile;\r\n\r\n        // 如果有用户信息，预填表单\r\n        if (userProfile) {\r\n          formData.value.gender = userProfile.gender || '';\r\n          formData.value.grade = userProfile.grade || '';\r\n          formData.value.major = userProfile.major || '';\r\n          formData.value.cet4_taken = userProfile['Have you taken the CET-4 exam:'] || '否';\r\n          formData.value.cet4_score = userProfile['CET-4 score'] || '';\r\n          formData.value.cet4_reading_score = userProfile['CET-4 reading score'] || '';\r\n          formData.value.cet6_taken = userProfile['Have you taken the CET-6 exam'] || '否';\r\n          formData.value.cet6_score = userProfile['CET-6 score'] || '';\r\n          formData.value.cet6_reading_score = userProfile['CET-6 reading score'] || '';\r\n          formData.value.exam_name = userProfile['Exam name'] || '';\r\n          formData.value.total_score = userProfile['Total score'] || '';\r\n          formData.value.reading_score = userProfile['Reading score'] || '';\r\n        }\r\n      }\r\n    });\r\n\r\n    return {\r\n      form,\r\n      valid,\r\n      loading,\r\n      formData,\r\n      nameRules,\r\n      submitForm\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.user-profile {\r\n  max-width: 100%;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}