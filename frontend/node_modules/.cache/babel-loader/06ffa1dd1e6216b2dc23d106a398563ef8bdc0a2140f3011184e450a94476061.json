{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\n\n// 计划阶段视图\nimport Introduction from './views/planning/Introduction.vue';\nimport SelfRate from './views/planning/SelfRate.vue';\nimport UserProfile from './views/planning/UserProfile.vue';\nimport PreTest from './views/planning/PreTest.vue';\nimport StrategyPreTest from './views/planning/StrategyPreTest.vue';\n\n// 执行阶段视图\nimport AIInteraction from './views/execution/AIInteraction.vue';\n\n// 反馈阶段视图\nimport PostTest from './views/feedback/PostTest.vue';\nimport StrategyPostTest from './views/feedback/StrategyPostTest.vue';\nimport Summary from './views/feedback/Summary.vue';\nconst routes = [{\n  path: '/',\n  redirect: '/introduction'\n},\n// 计划阶段路由\n{\n  path: '/introduction',\n  name: 'Introduction',\n  component: Introduction,\n  meta: {\n    title: '系统介绍',\n    phase: 'planning',\n    order: 1\n  }\n}, {\n  path: '/self-rate',\n  name: 'SelfRate',\n  component: SelfRate,\n  meta: {\n    title: '能力自评',\n    phase: 'planning',\n    order: 2\n  }\n}, {\n  path: '/user-profile',\n  name: 'UserProfile',\n  component: UserProfile,\n  meta: {\n    title: '用户信息',\n    phase: 'planning',\n    order: 3\n  }\n}, {\n  path: '/pre-test/:id',\n  name: 'PreTest',\n  component: PreTest,\n  props: true,\n  meta: {\n    title: '阅读前测',\n    phase: 'planning',\n    order: 4\n  }\n}, {\n  path: '/strategy-pre-test',\n  name: 'StrategyPreTest',\n  component: StrategyPreTest,\n  meta: {\n    title: '策略前测',\n    phase: 'planning',\n    order: 5\n  }\n},\n// 执行阶段路由\n{\n  path: '/ai-interaction',\n  name: 'AIInteraction',\n  component: AIInteraction,\n  meta: {\n    title: '个性化学习',\n    phase: 'execution',\n    order: 6\n  }\n},\n// 反馈阶段路由\n{\n  path: '/post-test/:id',\n  name: 'PostTest',\n  component: PostTest,\n  props: true,\n  meta: {\n    title: '阅读后测',\n    phase: 'feedback',\n    order: 7\n  }\n}, {\n  path: '/strategy-post-test',\n  name: 'StrategyPostTest',\n  component: StrategyPostTest,\n  meta: {\n    title: '策略后测',\n    phase: 'feedback',\n    order: 8\n  }\n}, {\n  path: '/summary',\n  name: 'Summary',\n  component: Summary,\n  meta: {\n    title: '学习总结',\n    phase: 'feedback',\n    order: 9\n  }\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\n\n// 全局导航守卫\nrouter.beforeEach((to, from, next) => {\n  // 设置页面标题\n  document.title = `PERSS - ${to.meta.title || '英语阅读支持系统'}`;\n\n  // 检查用户名\n  const userName = localStorage.getItem('userName');\n\n  // 如果不是首页且没有用户名，重定向到用户信息页面\n  if (to.path !== '/introduction' && to.path !== '/self-rate' && to.path !== '/user-profile' && !userName) {\n    next('/user-profile');\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","Introduction","SelfRate","UserProfile","PreTest","StrategyPreTest","AIInteraction","PostTest","StrategyPostTest","Summary","routes","path","redirect","name","component","meta","title","phase","order","props","router","history","beforeEach","to","from","next","document","userName","localStorage","getItem"],"sources":["D:/PycharmProjects/perss_v4/frontend/src/router.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router';\r\n\r\n// 计划阶段视图\r\nimport Introduction from './views/planning/Introduction.vue';\r\nimport SelfRate from './views/planning/SelfRate.vue';\r\nimport UserProfile from './views/planning/UserProfile.vue';\r\nimport PreTest from './views/planning/PreTest.vue';\r\nimport StrategyPreTest from './views/planning/StrategyPreTest.vue';\r\n\r\n// 执行阶段视图\r\nimport AIInteraction from './views/execution/AIInteraction.vue';\r\n\r\n// 反馈阶段视图\r\nimport PostTest from './views/feedback/PostTest.vue';\r\nimport StrategyPostTest from './views/feedback/StrategyPostTest.vue';\r\nimport Summary from './views/feedback/Summary.vue';\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    redirect: '/introduction',\r\n  },\r\n\r\n  // 计划阶段路由\r\n  {\r\n    path: '/introduction',\r\n    name: 'Introduction',\r\n    component: Introduction,\r\n    meta: {\r\n      title: '系统介绍',\r\n      phase: 'planning',\r\n      order: 1\r\n    }\r\n  },\r\n  {\r\n    path: '/self-rate',\r\n    name: 'SelfRate',\r\n    component: SelfRate,\r\n    meta: {\r\n      title: '能力自评',\r\n      phase: 'planning',\r\n      order: 2\r\n    }\r\n  },\r\n  {\r\n    path: '/user-profile',\r\n    name: 'UserProfile',\r\n    component: UserProfile,\r\n    meta: {\r\n      title: '用户信息',\r\n      phase: 'planning',\r\n      order: 3\r\n    }\r\n  },\r\n  {\r\n    path: '/pre-test/:id',\r\n    name: 'PreTest',\r\n    component: PreTest,\r\n    props: true,\r\n    meta: {\r\n      title: '阅读前测',\r\n      phase: 'planning',\r\n      order: 4\r\n    }\r\n  },\r\n  {\r\n    path: '/strategy-pre-test',\r\n    name: 'StrategyPreTest',\r\n    component: StrategyPreTest,\r\n    meta: {\r\n      title: '策略前测',\r\n      phase: 'planning',\r\n      order: 5\r\n    }\r\n  },\r\n\r\n  // 执行阶段路由\r\n  {\r\n    path: '/ai-interaction',\r\n    name: 'AIInteraction',\r\n    component: AIInteraction,\r\n    meta: {\r\n      title: '个性化学习',\r\n      phase: 'execution',\r\n      order: 6\r\n    }\r\n  },\r\n\r\n  // 反馈阶段路由\r\n  {\r\n    path: '/post-test/:id',\r\n    name: 'PostTest',\r\n    component: PostTest,\r\n    props: true,\r\n    meta: {\r\n      title: '阅读后测',\r\n      phase: 'feedback',\r\n      order: 7\r\n    }\r\n  },\r\n  {\r\n    path: '/strategy-post-test',\r\n    name: 'StrategyPostTest',\r\n    component: StrategyPostTest,\r\n    meta: {\r\n      title: '策略后测',\r\n      phase: 'feedback',\r\n      order: 8\r\n    }\r\n  },\r\n  {\r\n    path: '/summary',\r\n    name: 'Summary',\r\n    component: Summary,\r\n    meta: {\r\n      title: '学习总结',\r\n      phase: 'feedback',\r\n      order: 9\r\n    }\r\n  }\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  routes\r\n});\r\n\r\n// 全局导航守卫\r\nrouter.beforeEach((to, from, next) => {\r\n  // 设置页面标题\r\n  document.title = `PERSS - ${to.meta.title || '英语阅读支持系统'}`;\r\n\r\n  // 检查用户名\r\n  const userName = localStorage.getItem('userName');\r\n\r\n  // 如果不是首页且没有用户名，重定向到用户信息页面\r\n  if (to.path !== '/introduction' && to.path !== '/self-rate' && to.path !== '/user-profile' && !userName) {\r\n    next('/user-profile');\r\n  } else {\r\n    next();\r\n  }\r\n});\r\n\r\nexport default router;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}